<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jeopardy Score Tracker</title>

<style>
:root {
  --jeopardy-blue: #0b1c6d;
  --jeopardy-dark: #06124a;
  --jeopardy-gold: #ffd700;
  --correct: #1e7f43;
  --wrong: #8b1d1d;
}

body {
  margin: 0;
  background: var(--jeopardy-blue);
  color: var(--jeopardy-gold);
  font-family: "Arial Black", system-ui, sans-serif;
  text-align: center;
}

header {
  position: sticky;
  top: 0;
  background: var(--jeopardy-dark);
  padding: 12px;
  z-index: 10;
}

h1 {
  margin: 5px 0;
  font-size: 1.8rem;
}

#score {
  font-size: 1.5rem;
  margin-top: 6px;
}

#controls {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 10px;
  flex-wrap: wrap;
}

button {
  background: var(--jeopardy-gold);
  color: #000;
  border: none;
  padding: 10px 14px;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 6px;
  cursor: pointer;
}

input {
  padding: 8px;
  font-size: 1rem;
  border-radius: 6px;
  border: none;
  text-align: center;
}

table {
  border-collapse: collapse;
  margin: 16px auto;
  width: 95%;
  max-width: 900px;
}

th, td {
  border: 2px solid #000;
  background: var(--jeopardy-blue);
  color: var(--jeopardy-gold);
  text-align: center;
}

th {
  padding: 10px 4px;
  font-size: 0.9rem;
}

td {
  height: 70px;
  font-size: 1.2rem;
  cursor: pointer;
  user-select: none;
}

td.correct { background: var(--correct); }
td.wrong { background: var(--wrong); }

@media (max-width: 600px) {
  td { height: 60px; font-size: 1rem; }
  th { font-size: 0.75rem; }
}
</style>
</head>

<body>

<header>
  <h1>Jeopardy!</h1>
  <div id="score">Score: $0</div>

  <div id="controls">
    <button id="roundToggle">Switch to Double Jeopardy</button>
    <button id="resetScore">Reset Score</button>
    <input id="playerName" type="text" placeholder="Player Name" />
    <input id="episodeDate" type="date" />
    <button id="submitScore">Submit Final Score</button>
  </div>
</header>

<table id="board">
  <tr>
    <th>Cat 1</th>
    <th>Cat 2</th>
    <th>Cat 3</th>
    <th>Cat 4</th>
    <th>Cat 5</th>
    <th>Cat 6</th>
  </tr>
</table>

<script>
/* ======================
   GAME STATE
====================== */
const baseValues = [200, 400, 600, 800, 1000];
let score = 0;
let isDouble = false;

/* Board memory */
const singleBoardState = Array(5).fill().map(() => Array(6).fill(0));
const doubleBoardState = Array(5).fill().map(() => Array(6).fill(0));

/* ======================
   DOM
====================== */
const board = document.getElementById("board");
const scoreDisplay = document.getElementById("score");
const toggleButton = document.getElementById("roundToggle");

/* ======================
   BUILD BOARD
====================== */
function buildBoard() {
  board.querySelectorAll("tr:not(:first-child)").forEach(r => r.remove());

  const currentState = isDouble ? doubleBoardState : singleBoardState;
  const multiplier = isDouble ? 2 : 1;

  baseValues.forEach((value, rowIndex) => {
    const row = document.createElement("tr");

    for (let colIndex = 0; colIndex < 6; colIndex++) {
      const cell = document.createElement("td");
      const state = currentState[rowIndex][colIndex];

      cell.textContent = `$${value * multiplier}`;
      if (state === 1) cell.className = "correct";
      if (state === 2) cell.className = "wrong";

      cell.onclick = () => handleClick(rowIndex, colIndex);
      row.appendChild(cell);
    }

    board.appendChild(row);
  });
}

/* ======================
   CLICK HANDLER
====================== */
function handleClick(row, col) {
  const multiplier = isDouble ? 2 : 1;
  const value = baseValues[row] * multiplier;
  const stateArray = isDouble ? doubleBoardState : singleBoardState;
  const currentState = stateArray[row][col];

  if (currentState === 0) {
    score += value;
    stateArray[row][col] = 1;
  } else if (currentState === 1) {
    score -= value * 2;
    stateArray[row][col] = 2;
  } else {
    score += value;
    stateArray[row][col] = 0;
  }

  updateScore();
  buildBoard();
}

/* ======================
   CONTROLS
====================== */
toggleButton.onclick = () => {
  isDouble = !isDouble;
  toggleButton.textContent = isDouble
    ? "Switch back to Single Jeopardy"
    : "Switch to Double Jeopardy";
  buildBoard();
};

document.getElementById("resetScore").onclick = () => {
  score = 0;
  singleBoardState.forEach(r => r.fill(0));
  doubleBoardState.forEach(r => r.fill(0));
  updateScore();
  buildBoard();
};

/* ======================
   HELPERS
====================== */
function updateScore() {
  scoreDisplay.textContent = `Score: $${score}`;
}

/* ======================
   INIT
====================== */
buildBoard();
updateScore();
</script>

</body>
</html>
